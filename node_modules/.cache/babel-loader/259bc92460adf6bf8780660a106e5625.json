{"ast":null,"code":"import _regeneratorRuntime from\"/Users/charlyagudelo/Documents/proyDanny/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/charlyagudelo/Documents/proyDanny/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/charlyagudelo/Documents/proyDanny/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/charlyagudelo/Documents/proyDanny/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import firebase from'../components/database/firebase';import{config}from\"../components/config/config\";var UserStateContext=React.createContext();var UserDispatchContext=React.createContext();var showName,showIdentification,showEmail;var dependence;function userReducer(state,action){switch(action.type){case\"LOGIN_SUCCESS\":return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true});case\"SIGN_OUT_SUCCESS\":return _objectSpread(_objectSpread({},state),{},{isAuthenticated:false});default:{throw new Error(\"Unhandled action type: \".concat(action.type));}}}function UserProvider(_ref){var children=_ref.children;var _React$useReducer=React.useReducer(userReducer,{isAuthenticated:!!localStorage.getItem(\"id_token\")}),_React$useReducer2=_slicedToArray(_React$useReducer,2),state=_React$useReducer2[0],dispatch=_React$useReducer2[1];return/*#__PURE__*/React.createElement(UserStateContext.Provider,{value:state},/*#__PURE__*/React.createElement(UserDispatchContext.Provider,{value:dispatch},children));}function useUserState(){var context=React.useContext(UserStateContext);if(context===undefined){throw new Error(\"useUserState must be used within a UserProvider\");}return context;}function useUserDispatch(){var context=React.useContext(UserDispatchContext);if(context===undefined){throw new Error(\"useUserDispatch must be used within a UserProvider\");}return context;}export{UserProvider,useUserState,useUserDispatch,userLogin,userRegistry,userRegistrySave,signOut,showName,showIdentification,dependence,showEmail};// ###########################################################\nfunction userLogin(dispatch,email,password,history,setIsLoading,setError,setAnswer){if(email===''&&password===''){//Alert.alert('Campos vacíos', 'Ingresa tu correo y contraseña', [{ style: 'destructive' }])\nsetError(true);}else{setError(false);setIsLoading(true);firebase.auth().signInWithEmailAndPassword(email,password).then(function(res){console.log(res.user);showName=res.user.displayName;showEmail=res.user.email;console.log('User logged-in successfully!');getUser(showEmail,history,setIsLoading,setError,setAnswer,dispatch);// setError(null)\n// setIsLoading(false)\n// dispatch({ type: 'LOGIN_SUCCESS' })\n// history.push('/app/dashboard')\n}).catch(function(error){setError(true);setIsLoading(false);setAnswer(true);console.log(error);});}}//Registry\nfunction userRegistry(history){getDependences(history);}//function userRegistrySave(history, name,lastname,email,password,){\nfunction userRegistrySave(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8,_x9,_x10){return _userRegistrySave.apply(this,arguments);}function _userRegistrySave(){_userRegistrySave=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(identification,name,lastname,email,password,password2,history,setIsLoading,setError,setAnswer){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setError(false);setIsLoading(true);_context.next=5;return fetch(\"\".concat(config.APIFireBase,\"/api/user\"),{crossDomain:true,method:'POST',headers:{Accept:'application/json','Content-Type':'application/json',\"Access-Control-Allow-Origin\":\"*\",\"Access-Control-Allow-Methods\":\"DELETE, POST, GET, OPTIONS\"},body:JSON.stringify({id:identification,name:name,lastname:lastname,email:email,password:password,fk_dependence:\"0hSRJuu0Zrwq0w0euTyH\"})},{mode:\"cors\"});case 5:response=_context.sent;_context.next=8;return response;case 8:json=_context.sent;responseApi(json,setIsLoading,setError,setAnswer,history);_context.next=17;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);setError(true);setAnswer(true);console.error(_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return _userRegistrySave.apply(this,arguments);};function responseApi(res,setIsLoading,setError,setAnswer,history){console.log('esto es la respuesta',res.description,res.json());if(typeof res.error!=='undefined'){setIsLoading(false);setError(true);console.log('Upps!',res.error);}else{if(typeof res.status==='undefined'||res.status!==200){setIsLoading(false);setError(true);setAnswer(true);console.log(JSON.stringify(res));console.log('Upps!','Algo pasó, intenta de nuevo');}else{if(res.status==200){setError(null);setIsLoading(false);history.push('/');console.log('respuesta!!!!!!!!!',res);}else{setError(true);setIsLoading(false);setAnswer(true);console.log('Upps!','Algo pasó intenta de nuevo',res);}}}}function getDependences(history){try{fetch(\"\".concat(config.APIFireBase,\"/api/dependence\"),{crossDomain:true,method:'GET',headers:{Accept:'application/json','Content-Type':'application/json',\"Access-Control-Allow-Origin\":\"*\",\"Access-Control-Allow-Methods\":\"DELETE, POST, GET, OPTIONS\"}},{mode:\"cors\"}).then(function(resp){return resp.json();}).then(function(data){dependence=data;console.log(dependence);history.push('/registry');}).catch(function(error){console.log(error);});//responseApi(json, setIsLoading,setError, setAnswer,history);\n}catch(error){console.error(error);}}function getUser(showEmail,history,setIsLoading,setError,setAnswer,dispatch){try{fetch(\"\".concat(config.APIFireBase,\"/api/user?email=\").concat(showEmail),{crossDomain:true,method:'GET',headers:{Accept:'application/json','Content-Type':'application/json',\"Access-Control-Allow-Origin\":\"*\",\"Access-Control-Allow-Methods\":\"DELETE, POST, GET, OPTIONS\"}},{mode:\"cors\"}).then(function(resp){return resp.json();}).then(function(data){showIdentification=data.userInfo.id;console.log(showIdentification);console.log(\"Usuario obtenido\",data,showEmail);setError(null);setIsLoading(false);dispatch({type:'LOGIN_SUCCESS'});history.push('/app/dashboard');}).catch(function(error){console.log(error);});}catch(error){console.error(error);}}function signOut(dispatch,history){localStorage.removeItem(\"id_token\");dispatch({type:\"SIGN_OUT_SUCCESS\"});history.push(\"/login\");}","map":{"version":3,"sources":["/Users/charlyagudelo/Documents/proyDanny/front/src/context/UserContext.js"],"names":["React","firebase","config","UserStateContext","createContext","UserDispatchContext","showName","showIdentification","showEmail","dependence","userReducer","state","action","type","isAuthenticated","Error","UserProvider","children","useReducer","localStorage","getItem","dispatch","useUserState","context","useContext","undefined","useUserDispatch","userLogin","userRegistry","userRegistrySave","signOut","email","password","history","setIsLoading","setError","setAnswer","auth","signInWithEmailAndPassword","then","res","console","log","user","displayName","getUser","catch","error","getDependences","identification","name","lastname","password2","fetch","APIFireBase","crossDomain","method","headers","Accept","body","JSON","stringify","id","fk_dependence","mode","response","json","responseApi","description","status","push","resp","data","userInfo","removeItem"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport firebase from '../components/database/firebase';\nimport { config } from \"../components/config/config\";\n\nvar UserStateContext = React.createContext();\nvar UserDispatchContext = React.createContext();\nvar showName, showIdentification, showEmail;\nvar dependence;\nfunction userReducer(state, action) {\n  switch (action.type) {\n    case \"LOGIN_SUCCESS\":\n      return { ...state, isAuthenticated: true };\n    case \"SIGN_OUT_SUCCESS\":\n      return { ...state, isAuthenticated: false };\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`);\n    }\n  }\n}\n\nfunction UserProvider({ children }) {\n  var [state, dispatch] = React.useReducer(userReducer, {\n    isAuthenticated: !!localStorage.getItem(\"id_token\"),\n  });\n\n  return (\n    <UserStateContext.Provider value={state}>\n      <UserDispatchContext.Provider value={dispatch}>\n        {children}\n      </UserDispatchContext.Provider>\n    </UserStateContext.Provider>\n  );\n}\n\nfunction useUserState() {\n  var context = React.useContext(UserStateContext);\n  if (context === undefined) {\n    throw new Error(\"useUserState must be used within a UserProvider\");\n  }\n  return context;\n}\n\nfunction useUserDispatch() {\n  var context = React.useContext(UserDispatchContext);\n  if (context === undefined) {\n    throw new Error(\"useUserDispatch must be used within a UserProvider\");\n  }\n  return context;\n}\n\nexport { UserProvider, useUserState, useUserDispatch, userLogin, userRegistry, userRegistrySave,signOut, showName, showIdentification, dependence, showEmail};\n\n// ###########################################################\n\nfunction userLogin (dispatch, email, password, history, setIsLoading, setError, setAnswer) {\n  if (email === '' && password === '') {\n    //Alert.alert('Campos vacíos', 'Ingresa tu correo y contraseña', [{ style: 'destructive' }])\n    setError(true);\n  } else {\n    setError(false);\n    setIsLoading(true);\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .then((res) => {\n        console.log(res.user)\n        showName= res.user.displayName\n        showEmail= res.user.email\n        console.log('User logged-in successfully!')\n        getUser(showEmail, history, setIsLoading, setError, setAnswer, dispatch);\n        // setError(null)\n        // setIsLoading(false)\n        // dispatch({ type: 'LOGIN_SUCCESS' })\n        // history.push('/app/dashboard')\n      })\n      .catch((error => {\n        setError(true);\n        setIsLoading(false);\n        setAnswer(true);\n          console.log(error)\n      }));\n  }\n}\n\n//Registry\n\nfunction userRegistry(history){\n  getDependences(history);\n\n}\n\n//function userRegistrySave(history, name,lastname,email,password,){\nasync function userRegistrySave ( identification,name, lastname, email,password, password2, history,setIsLoading,setError, setAnswer ){\n  try {\n    setError(false);\n    setIsLoading(true);\n    let response = await fetch(\n      `${config.APIFireBase}/api/user`, {\n        crossDomain:true,\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        },\n\n        body: JSON.stringify({\n          id: identification,\n          name: name,\n          lastname: lastname,\n          email: email,\n          password: password,\n          fk_dependence: \"0hSRJuu0Zrwq0w0euTyH\"\n        })\n      },\n      { mode: \"cors\" }\n    );\n    let json = await response;\n    responseApi(json, setIsLoading,setError, setAnswer,history);\n  } catch (error) {\n    setError(true);\n    setAnswer(true);\n    console.error(error);\n  }\n};\n\nfunction responseApi(res, setIsLoading,setError, setAnswer, history) {\n  console.log('esto es la respuesta',res.description, res.json())\n  if (typeof res.error!== 'undefined'){\n    setIsLoading(false);\n    setError(true);\n    console.log('Upps!', res.error)            \n  }else{\n    if(typeof res.status === 'undefined' || res.status!==200){\n      setIsLoading(false);\n      setError(true);\n      setAnswer(true);\n      console.log(JSON.stringify(res))\n      console.log('Upps!', 'Algo pasó, intenta de nuevo')      \n    }  else{\n      if(res.status==200){\n        setError(null);\n        setIsLoading(false);\n        history.push('/')\n        console.log('respuesta!!!!!!!!!', res)                   \n      } else{\n        setError(true);\n        setIsLoading(false)\n        setAnswer(true);\n        console.log('Upps!', 'Algo pasó intenta de nuevo', res)          \n      }\n    }    \n  }\n\n}\n\nfunction getDependences(history){\n  try {\n    fetch(\n      `${config.APIFireBase}/api/dependence`, {\n        crossDomain:true,\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        }\n      },\n      { mode: \"cors\" }\n    ).then((resp) => resp.json())\n    .then(function(data){dependence=data; console.log(dependence);   history.push('/registry')})\n    .catch(function(error) {\n      console.log(error);\n    });\n    //responseApi(json, setIsLoading,setError, setAnswer,history);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction getUser( showEmail,history, setIsLoading, setError, setAnswer, dispatch){\n  try {\n    fetch(\n      `${config.APIFireBase}/api/user?email=${showEmail}`, {\n        crossDomain:true,\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        }\n      },\n      { mode: \"cors\" }\n    ).then((resp) => resp.json())\n    .then(function(data){\n      showIdentification=data.userInfo.id; \n      console.log(showIdentification);\n      console.log(\"Usuario obtenido\", data, showEmail)\n      setError(null)\n      setIsLoading(false)\n      dispatch({ type: 'LOGIN_SUCCESS' })\n      history.push('/app/dashboard')\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n  } catch (error) {\n    console.error(error);\n  }\n}\nfunction signOut(dispatch, history) {\n  localStorage.removeItem(\"id_token\");\n  dispatch({ type: \"SIGN_OUT_SUCCESS\" });\n  history.push(\"/login\");\n}\n\n"]},"metadata":{},"sourceType":"module"}