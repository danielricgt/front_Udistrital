{"ast":null,"code":"var _jsxFileName = \"/Users/charlyagudelo/Documents/proyDanny/front_Udistrital/src/context/UserContext.js\";\nimport React from \"react\";\nimport firebase from \"../components/database/firebase\";\nimport { config } from \"../components/config/config\";\nvar UserStateContext = React.createContext();\nvar UserDispatchContext = React.createContext();\nvar showName, showIdentification, showEmail, showDependence, showDependenceName, showTypeUser, showCampus, showInventory;\nvar dependence, goods, type, campus;\n\nfunction userReducer(state, action) {\n  switch (action.type) {\n    case \"LOGIN_SUCCESS\":\n      return { ...state,\n        isAuthenticated: true\n      };\n\n    case \"SIGN_OUT_SUCCESS\":\n      return { ...state,\n        isAuthenticated: false\n      };\n\n    default:\n      {\n        throw new Error(`Unhandled action type: ${action.type}`);\n      }\n  }\n}\n\nfunction UserProvider({\n  children\n}) {\n  var [state, dispatch] = React.useReducer(userReducer, {\n    isAuthenticated: !!localStorage.getItem(\"id_token\")\n  });\n  return /*#__PURE__*/React.createElement(UserStateContext.Provider, {\n    value: state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(UserDispatchContext.Provider, {\n    value: dispatch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, children));\n}\n\nfunction useUserState() {\n  var context = React.useContext(UserStateContext);\n\n  if (context === undefined) {\n    throw new Error(\"useUserState must be used within a UserProvider\");\n  }\n\n  return context;\n}\n\nfunction useUserDispatch() {\n  var context = React.useContext(UserDispatchContext);\n\n  if (context === undefined) {\n    throw new Error(\"useUserDispatch must be used within a UserProvider\");\n  }\n\n  return context;\n}\n\nexport { UserProvider, useUserState, useUserDispatch, userLogin, userRegistry, userRegistrySave, signOut, showName, showIdentification, dependence, showEmail, showDependence, showDependenceName, showInventory, saveGood, showCampus, getDependences, campus, goods, getDependenceByFk }; //Navigation \n// function navigate(data){\n//     data.setIsLoading(true);\n//   if (data.operation == \"login\"){\n//     switch (data.step) {\n//       case 1:\n//         userLogin(data);        \n//         break;\n//       case 2:\n//         console.log(\"ENTRÉ\")\n//         getUser(data);\n//         break;\n//       case 3:\n//         console.log(\"ENTRÉX2\")\n//         getCampus(data);\n//       case 4:\n//         console.log(\"ENTRE X3\")\n//         getDependenceByFk(data);\n//       case 5:\n//         console.log(\"ENTRE X4\")\n//         getDependences(data);        \n//       case 6:\n//         data.history.push(\"/app/dashboard\")\n//       default:\n//         break;\n//     }\n//   }\n// }\n// -----٩(˘◡˘)۶------\n\nfunction userLogin(data) {\n  if (data.loginValue === \"\" && data.passwordValue === \"\") {\n    //Alert.alert('Campos vacíos', 'Ingresa tu correo y contraseña', [{ style: 'destructive' }])\n    data.setError(true);\n  } else {\n    data.setError(false);\n    firebase.auth().signInWithEmailAndPassword(data.loginValue, data.passwordValue).then(res => {\n      console.log(res.user);\n      showName = res.user.displayName;\n      showEmail = res.user.email; //data.step= data.step+1;\n      //console.log(\"the steeeeeeeep1\", data.step)\n      //navigate(data);\n\n      getUser(data);\n    }).catch(error => {\n      data.setError(true);\n      data.setIsLoading(false);\n      data.setAnswer(true);\n      console.log(error);\n    });\n  }\n} // -----٩(˘◡˘)۶------\n\n\nfunction getUser(dataE) {\n  try {\n    fetch(`${config.APIGraphql}`, {\n      crossDomain: true,\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\"\n      },\n      body: JSON.stringify({\n        query: `\n          query MyQuery {\n            usuario(where: { correo:{_eq: \"${showEmail}\"}}) {\n              nombres\n              apellidos\n              correo\n              estado\n              fk_cargo\n              fk_dependencia\n              id\n            }\n          }\n          `\n      })\n    }, {\n      mode: \"cors\"\n    }).then(resp => resp.json()).then(function (data) {\n      console.log(showEmail, data);\n      showIdentification = data.data.usuario[0].id;\n      showDependence = data.data.usuario[0].fk_dependencia;\n      console.log(\"Usuario obtenido\", data);\n      showTypeUser = data.data.usuario[0].fk_cargo;\n      dataE.setError(null); //dataE.dispatch({ type: \"LOGIN_SUCCESS\" });\n      //dataE.step= dataE.step+1;\n      //console.log(\"the steeeeeeeep\", dataE.step)\n      //navigate(dataE);\n\n      getCampus(dataE);\n      dataE.userDispatch({\n        type: 'LOGIN_SUCCESS'\n      }); //dataE.history.push(\"/app\");\n    }).catch(function (error) {\n      console.log(\"something happend\", error);\n      dataE.userDispatch({\n        type: \"LOGIN_FAILURE\"\n      });\n    });\n  } catch (error) {\n    console.error(error);\n  }\n} // -----٩(˘◡˘)۶------\n\n\nfunction getDependenceByFk(dataE) {\n  try {\n    fetch(`${config.APIGraphql}`, {\n      crossDomain: true,\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\"\n      },\n      body: JSON.stringify({\n        query: `\n          query MyQuery {\n            depedencia(where: { id:{_eq: \"${showDependence}\"}}) {\n              nombre_dependencia\n              fk_sede\n              fk_inventario\n\n            }\n          }\n          `\n      })\n    }, {\n      mode: \"cors\"\n    }).then(resp => resp.json()).then(function (data) {\n      showCampus = data.data.depedencia[0].fk_sede;\n      showDependenceName = data.data.depedencia[0].nombre_dependencia;\n      showInventory = data.data.depedencia[0].fk_inventario;\n      console.log(\"Super infoooooooo-->\", showDependenceName, data);\n      getDependences(dataE); //dataE.step= dataE.step+1;\n      //navigate(dataE)\n    }).catch(function (error) {\n      dataE.setIsLoading(false);\n      console.log(error);\n    });\n  } catch (error) {\n    console.error(error);\n  }\n} // -----٩(˘-˘)۶------\n\n\nfunction getDependences(dataE) {\n  try {\n    fetch(`${config.APIGraphql}`, {\n      crossDomain: true,\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\"\n      },\n      body: JSON.stringify({\n        query: `\n          query MyQuery {\n            depedencia(where: { fk_sede:{_eq: \"${showCampus}\"}}) {\n              nombre_dependencia\n            }\n          }\n          `\n      })\n    }, {\n      mode: \"cors\"\n    }).then(resp => resp.json()).then(function (data) {\n      dataE.setIsLoading(false);\n      dependence = data.data.depedencia;\n      console.log(\"the campus data ----->\", showCampus, \"and\", dataE);\n      dataE.history.push(\"/app\"); //dataE.step= dataE.step+1;\n      //console.log(\"THE STEPPPP\",dataE.step)\n      //navigate(dataE)\n    }).catch(function (error) {\n      console.log(error);\n    });\n  } catch (error) {\n    console.error(error);\n  }\n} // -----٩(˘◡˘)۶------\n\n\nfunction getCampus(dataE) {\n  try {\n    fetch(`${config.APIGraphql}`, {\n      crossDomain: true,\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\"\n      },\n      body: JSON.stringify({\n        query: `\n          query MyQuery {\n            sede {\n              id\n              nombre\n            }\n          }\n          `\n      })\n    }, {\n      mode: \"cors\"\n    }).then(resp => resp.json()).then(function (data) {\n      dataE.setIsLoading(false);\n      campus = data.data.sede;\n      console.log(\"THE DATA OF CAMPUS: \", campus);\n      getDependenceByFk(dataE); //dataE.step= dataE.step+1;\n      //navigate(dataE);\n    }).catch(function (error) {\n      dataE.setIsLoading(false);\n      console.log(error);\n    });\n  } catch (error) {\n    console.log(\"something happend\");\n  }\n}\n\nfunction getInventories() {}\n\nfunction saveGood(nameGood, description, idPlate, place, physical_space, brand_and_serie, state, reason, observation, goodType, history, setIsLoading, setError, setAnswer) {\n  try {\n    setError(false);\n    setIsLoading(true);\n    fetch(`${config.APIGraphql}`, {\n      crossDomain: true,\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\"\n      },\n      body: JSON.stringify({\n        query: `\n            mutation {\n              insert_bien_one(object: {espacio_fisico: ${physical_space}, estado: ${state}, marca_y_serie: ${brand_and_serie},fk_dependencia: ${showDependence}, fk_inventario: ${showInventory}, fk_sede: ${showCampus}, motivo: ${reason}, nombre_bien: ${nameGood}, observacion: ${observation}, observacion: ${description}, placa: ${idPlate}, porcentaje_iva: 0, tipo_de_bien: ${goodType}, total: 0, total_iva: 0, valor_unitario: \"\", verificacion: \"\"})\n            }            \n            `\n      })\n    }, {\n      mode: \"cors\"\n    }).then(resp => resp.json()).then(function (data) {\n      //let json = await response;\n      console.log(\"The answerrr of save goods is :\", data);\n      type = \"Bienes\";\n    }).catch(function (error) {\n      dataE.setIsLoading(false);\n      console.log(error);\n    }); //responseApi(json, setIsLoading, setError, setAnswer, history, type);\n  } catch (error) {\n    setError(true);\n    setAnswer(true);\n    console.error(error);\n  }\n} //Registry\n\n\nfunction userRegistry(setIsLoading, history) {\n  setIsLoading(true);\n  getDependences(setIsLoading, history);\n}\n\nasync function userRegistrySave(identification, name, lastname, email, password, password2, history, setIsLoading, setError, setAnswer) {\n  try {\n    setError(false);\n    setIsLoading(true);\n    let response = await fetch(`${config.APIFireBase}/api/user`, {\n      crossDomain: true,\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\"\n      },\n      body: JSON.stringify({\n        id: identification,\n        name: name,\n        lastname: lastname,\n        email: email,\n        password: password,\n        fk_dependence: \"0hSRJuu0Zrwq0w0euTyH\"\n      })\n    }, {\n      mode: \"cors\"\n    });\n    let json = await response;\n    type = \"Registro\";\n    responseApi(json, setIsLoading, setError, setAnswer, history, type);\n  } catch (error) {\n    setError(true);\n    setAnswer(true);\n    console.error(error);\n  }\n}\n\nfunction responseApi(res, setIsLoading, setError, setAnswer, history, type) {\n  console.log(\"esto es la respuesta\", res.description, res.json());\n\n  if (typeof res.error !== \"undefined\") {\n    setIsLoading(false);\n    setError(true);\n    console.log(\"Upps!\", res.error);\n  } else {\n    if (typeof res.status === \"undefined\" || res.status !== 200) {\n      setIsLoading(false);\n      setError(true);\n      setAnswer(true);\n      console.log(JSON.stringify(res));\n      console.log(\"Upps!\", \"Algo pasó, intenta de nuevo\");\n    } else {\n      if (res.status === 200) {\n        setError(null);\n        setIsLoading(false);\n\n        if (type === \"Registro\") {\n          history.push(\"/\");\n        } else {\n          if (type === \"Bienes\") {\n            history.push(\"/app/dashboard\");\n          }\n        }\n\n        console.log(\"respuesta!!!!!!!!!\", res);\n      } else {\n        setError(true);\n        setIsLoading(false);\n        setAnswer(true);\n        console.log(\"Upps!\", \"Algo pasó intenta de nuevo\", res);\n      }\n    }\n  }\n}\n\nfunction getGoods(setIsLoading, history) {\n  try {\n    fetch(`${config.APIFireBase}/api/goods?id=${showDependence}`, {\n      crossDomain: true,\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\"\n      }\n    }, {\n      mode: \"cors\"\n    }).then(resp => resp.json()).then(function (data) {\n      goods = data;\n      console.log(goods);\n      getDependenceByFk(setIsLoading, history);\n    }).catch(function (error) {\n      setIsLoading(false);\n      console.log(error);\n    }); //responseApi(json, setIsLoading,setError, setAnswer,history);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction signOut(dispatch, history) {\n  localStorage.removeItem(\"id_token\");\n  dispatch({\n    type: \"SIGN_OUT_SUCCESS\"\n  });\n  history.push(\"/login\");\n}","map":{"version":3,"sources":["/Users/charlyagudelo/Documents/proyDanny/front_Udistrital/src/context/UserContext.js"],"names":["React","firebase","config","UserStateContext","createContext","UserDispatchContext","showName","showIdentification","showEmail","showDependence","showDependenceName","showTypeUser","showCampus","showInventory","dependence","goods","type","campus","userReducer","state","action","isAuthenticated","Error","UserProvider","children","dispatch","useReducer","localStorage","getItem","useUserState","context","useContext","undefined","useUserDispatch","userLogin","userRegistry","userRegistrySave","signOut","saveGood","getDependences","getDependenceByFk","data","loginValue","passwordValue","setError","auth","signInWithEmailAndPassword","then","res","console","log","user","displayName","email","getUser","catch","error","setIsLoading","setAnswer","dataE","fetch","APIGraphql","crossDomain","method","headers","Accept","body","JSON","stringify","query","mode","resp","json","usuario","id","fk_dependencia","fk_cargo","getCampus","userDispatch","depedencia","fk_sede","nombre_dependencia","fk_inventario","history","push","sede","getInventories","nameGood","description","idPlate","place","physical_space","brand_and_serie","reason","observation","goodType","identification","name","lastname","password","password2","response","APIFireBase","fk_dependence","responseApi","status","getGoods","removeItem"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport firebase from \"../components/database/firebase\";\nimport { config } from \"../components/config/config\";\n\nvar UserStateContext = React.createContext();\nvar UserDispatchContext = React.createContext();\nvar showName, showIdentification, showEmail, showDependence, showDependenceName,showTypeUser, showCampus, showInventory;\nvar dependence, goods, type, campus;\n\n\nfunction userReducer(state, action) {\n  switch (action.type) {\n    case \"LOGIN_SUCCESS\":\n      return { ...state, isAuthenticated: true };\n    case \"SIGN_OUT_SUCCESS\":\n      return { ...state, isAuthenticated: false };\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`);\n    }\n  }\n}\n\nfunction UserProvider({ children }) {\n  var [state, dispatch] = React.useReducer(userReducer, {\n    isAuthenticated: !!localStorage.getItem(\"id_token\"),\n  });\n\n  return (\n    <UserStateContext.Provider value={state}>\n      <UserDispatchContext.Provider value={dispatch}>\n        {children}\n      </UserDispatchContext.Provider>\n    </UserStateContext.Provider>\n  );\n}\n\nfunction useUserState() {\n  var context = React.useContext(UserStateContext);\n  if (context === undefined) {\n    throw new Error(\"useUserState must be used within a UserProvider\");\n  }\n  return context;\n}\n\nfunction useUserDispatch() {\n  var context = React.useContext(UserDispatchContext);\n  if (context === undefined) {\n    throw new Error(\"useUserDispatch must be used within a UserProvider\");\n  }\n  return context;\n}\n\nexport {\n  UserProvider,\n  useUserState,\n  useUserDispatch,\n  userLogin,\n  userRegistry,\n  userRegistrySave,\n  signOut,\n  showName,\n  showIdentification,\n  dependence,\n  showEmail,\n  showDependence,\n  showDependenceName,\n  showInventory,\n  saveGood,\n  showCampus,\n  getDependences,\n  campus,\n  goods,\n  getDependenceByFk\n};\n\n\n//Navigation \n// function navigate(data){\n//     data.setIsLoading(true);\n//   if (data.operation == \"login\"){\n//     switch (data.step) {\n//       case 1:\n//         userLogin(data);        \n//         break;\n//       case 2:\n//         console.log(\"ENTRÉ\")\n//         getUser(data);\n//         break;\n//       case 3:\n//         console.log(\"ENTRÉX2\")\n//         getCampus(data);\n//       case 4:\n//         console.log(\"ENTRE X3\")\n//         getDependenceByFk(data);\n//       case 5:\n//         console.log(\"ENTRE X4\")\n//         getDependences(data);        \n//       case 6:\n//         data.history.push(\"/app/dashboard\")\n//       default:\n//         break;\n//     }\n//   }\n// }\n// -----٩(˘◡˘)۶------\n\nfunction userLogin(data) {\n\n  if (data.loginValue === \"\" && data.passwordValue === \"\") {\n    //Alert.alert('Campos vacíos', 'Ingresa tu correo y contraseña', [{ style: 'destructive' }])\n    data.setError(true);\n  } else {\n    data.setError(false);\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(data.loginValue, data.passwordValue)\n      .then((res) => {\n        console.log(res.user);\n        showName = res.user.displayName;\n        showEmail = res.user.email;\n        //data.step= data.step+1;\n        //console.log(\"the steeeeeeeep1\", data.step)\n        //navigate(data);\n        getUser(data);\n      })\n      .catch((error) => {\n        data.setError(true);\n        data.setIsLoading(false);\n        data.setAnswer(true);\n        console.log(error);\n      });\n  }\n}\n\n// -----٩(˘◡˘)۶------\n\nfunction getUser(dataE) {\n\n  try {\n    fetch(\n      `${config.APIGraphql}`,\n      {\n        crossDomain: true,\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        },\n        body: JSON.stringify({\n          query: \n          `\n          query MyQuery {\n            usuario(where: { correo:{_eq: \"${showEmail}\"}}) {\n              nombres\n              apellidos\n              correo\n              estado\n              fk_cargo\n              fk_dependencia\n              id\n            }\n          }\n          `         \n        }),\n      },\n      { mode: \"cors\" }\n    )\n      .then((resp) => resp.json())\n      .then(function (data) {\n        console.log(showEmail,data);\n        showIdentification = data.data.usuario[0].id;\n        showDependence = data.data.usuario[0].fk_dependencia;\n\n        console.log(\"Usuario obtenido\", data);\n        showTypeUser = data.data.usuario[0].fk_cargo;\n        dataE.setError(null);\n        //dataE.dispatch({ type: \"LOGIN_SUCCESS\" });\n        //dataE.step= dataE.step+1;\n        //console.log(\"the steeeeeeeep\", dataE.step)\n        //navigate(dataE);\n        getCampus(dataE);\n        dataE.userDispatch({ type: 'LOGIN_SUCCESS' })\n       //dataE.history.push(\"/app\");\n      })\n      .catch(function (error) {\n        console.log(\"something happend\",error);\n        dataE.userDispatch({ type: \"LOGIN_FAILURE\" });\n\n      });\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// -----٩(˘◡˘)۶------\n\nfunction getDependenceByFk(dataE) {\n  try {\n    fetch(\n      `${config.APIGraphql}`,\n      {\n        crossDomain: true,\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        },\n        body: JSON.stringify({\n          query: \n          `\n          query MyQuery {\n            depedencia(where: { id:{_eq: \"${showDependence}\"}}) {\n              nombre_dependencia\n              fk_sede\n              fk_inventario\n\n            }\n          }\n          `         \n        }),\n      },\n      \n      { mode: \"cors\" }\n    )\n      .then((resp) => resp.json())\n      .then(function (data) {\n        showCampus = data.data.depedencia[0].fk_sede;\n        showDependenceName = data.data.depedencia[0].nombre_dependencia;\n        showInventory = data.data.depedencia[0].fk_inventario;\n        console.log(\"Super infoooooooo-->\",showDependenceName, data);\n        getDependences(dataE)\n        //dataE.step= dataE.step+1;\n        //navigate(dataE)\n      })\n      .catch(function (error) {\n        dataE.setIsLoading(false);\n        console.log(error);\n      });\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// -----٩(˘-˘)۶------\n\nfunction getDependences(dataE) {\n  try {\n    fetch(\n      `${config.APIGraphql}`,\n      {\n        crossDomain: true,\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        },\n        body: JSON.stringify({\n          query: \n          `\n          query MyQuery {\n            depedencia(where: { fk_sede:{_eq: \"${showCampus}\"}}) {\n              nombre_dependencia\n            }\n          }\n          `         \n        }),\n      },\n      { mode: \"cors\" }\n    )\n      .then((resp) => resp.json())\n      .then(function (data) {\n        dataE.setIsLoading(false);\n        dependence = data.data.depedencia;\n        console.log(\"the campus data ----->\", showCampus,\"and\",dataE);\n        dataE.history.push(\"/app\")\n        //dataE.step= dataE.step+1;\n        //console.log(\"THE STEPPPP\",dataE.step)\n        //navigate(dataE)\n\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// -----٩(˘◡˘)۶------\n\nfunction getCampus(dataE) {\n  try {\n    fetch(\n      `${config.APIGraphql}`,\n      {\n        crossDomain: true,\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        },\n        body: JSON.stringify({\n          query: `\n          query MyQuery {\n            sede {\n              id\n              nombre\n            }\n          }\n          `\n        }),\n      },\n      { mode: \"cors\" }\n    )\n      .then((resp) => resp.json())\n      .then(function (data) {\n        dataE.setIsLoading(false);\n        campus = data.data.sede;\n        console.log(\"THE DATA OF CAMPUS: \",campus);\n        getDependenceByFk(dataE);\n        //dataE.step= dataE.step+1;\n        //navigate(dataE);\n      })\n      .catch(function (error) {\n        dataE.setIsLoading(false);\n        console.log(error);\n      });\n  } catch (error) {\n    console.log(\"something happend\")\n  }\n}\n\n\nfunction getInventories(){\n\n}\n\n function saveGood(\n  nameGood,\n  description,\n  idPlate,\n  place,\n  physical_space,\n  brand_and_serie,\n  state,\n  reason,\n  observation,\n  goodType,\n  history,\n  setIsLoading,\n  setError,\n  setAnswer\n) {\n  try {\n    setError(false);\n    setIsLoading(true);\n    fetch(\n      `${config.APIGraphql}`,\n      {\n        crossDomain: true,\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        },\n\n        body: JSON.stringify(\n          {\n            query: \n            `\n            mutation {\n              insert_bien_one(object: {espacio_fisico: ${physical_space}, estado: ${state}, marca_y_serie: ${brand_and_serie},fk_dependencia: ${showDependence}, fk_inventario: ${showInventory}, fk_sede: ${showCampus}, motivo: ${reason}, nombre_bien: ${nameGood}, observacion: ${observation}, observacion: ${description}, placa: ${idPlate}, porcentaje_iva: 0, tipo_de_bien: ${goodType}, total: 0, total_iva: 0, valor_unitario: \"\", verificacion: \"\"})\n            }            \n            `         \n          }),\n      },\n      { mode: \"cors\" }\n    )\n    .then((resp) => resp.json())\n    .then(function (data) {\n    //let json = await response;\n    console.log(\"The answerrr of save goods is :\", data)\n    type=\"Bienes\";\n  }).catch(function (error) {\n    dataE.setIsLoading(false);\n    console.log(error);\n  });\n    //responseApi(json, setIsLoading, setError, setAnswer, history, type);\n  } catch (error) {\n    setError(true);\n    setAnswer(true);\n    console.error(error);\n  }\n}\n\n\n//Registry\n\nfunction userRegistry(setIsLoading, history) {\n  setIsLoading(true);\n  getDependences(setIsLoading, history);\n}\n\nasync function userRegistrySave(\n  identification,\n  name,\n  lastname,\n  email,\n  password,\n  password2,\n  history,\n  setIsLoading,\n  setError,\n  setAnswer\n) {\n  try {\n    setError(false);\n    setIsLoading(true);\n    let response = await fetch(\n      `${config.APIFireBase}/api/user`,\n      {\n        crossDomain: true,\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        },\n\n        body: JSON.stringify({\n          id: identification,\n          name: name,\n          lastname: lastname,\n          email: email,\n          password: password,\n          fk_dependence: \"0hSRJuu0Zrwq0w0euTyH\",\n        }),\n      },\n      { mode: \"cors\" }\n    );\n    let json = await response;\n    type=\"Registro\";\n    responseApi(json, setIsLoading, setError, setAnswer, history, type);\n  } catch (error) {\n    setError(true);\n    setAnswer(true);\n    console.error(error);\n  }\n}\n\nfunction responseApi(res, setIsLoading, setError, setAnswer, history, type) {\n  console.log(\"esto es la respuesta\", res.description, res.json());\n  if (typeof res.error !== \"undefined\") {\n    setIsLoading(false);\n    setError(true);\n    console.log(\"Upps!\", res.error);\n  } else {\n    if (typeof res.status === \"undefined\" || res.status !== 200) {\n      setIsLoading(false);\n      setError(true);\n      setAnswer(true);\n      console.log(JSON.stringify(res));\n      console.log(\"Upps!\", \"Algo pasó, intenta de nuevo\");\n    } else {\n      if (res.status === 200) {\n        setError(null);\n        setIsLoading(false);\n        if(type===\"Registro\"){\n          history.push(\"/\");\n        }else{\n          if(type === \"Bienes\"){\n            history.push(\"/app/dashboard\")\n          }\n        }\n        console.log(\"respuesta!!!!!!!!!\", res);\n      } else {\n        setError(true);\n        setIsLoading(false);\n        setAnswer(true);\n        console.log(\"Upps!\", \"Algo pasó intenta de nuevo\", res);\n      }\n    }\n  }\n}\n\n\n\n\nfunction getGoods(setIsLoading, history) {\n  try {\n    fetch(\n      `${config.APIFireBase}/api/goods?id=${showDependence}`,\n      {\n        crossDomain: true,\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Methods\": \"DELETE, POST, GET, OPTIONS\",\n        },\n      },\n      { mode: \"cors\" }\n    )\n      .then((resp) => resp.json())\n      .then(function (data) {\n        goods = data;\n        console.log(goods);\n        getDependenceByFk(setIsLoading, history)\n      })\n      .catch(function (error) {\n        setIsLoading(false);\n        console.log(error);\n      });\n    //responseApi(json, setIsLoading,setError, setAnswer,history);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n\nfunction signOut(dispatch, history) {\n  localStorage.removeItem(\"id_token\");\n  dispatch({ type: \"SIGN_OUT_SUCCESS\" });\n  history.push(\"/login\");\n}\n"]},"metadata":{},"sourceType":"module"}